mainView=SELECT \
    (SELECT COUNT(*)  FROM RESERVATION_MANAGER \
        WHERE SUBSTR(MA_RESER_DATE,1,5) = SUBSTR(SYSDATE,1,5) \
        AND MA_RESER_CANCEL='N')RESERVATION_M \
    ,(SELECT COUNT(*)  FROM RESERVATION_MANAGER \
        WHERE SUBSTR(MA_RESER_DATE,1,2) = SUBSTR(SYSDATE,1,2) \
        AND MA_RESER_CANCEL='N')RESERVATION_Y \
    ,(SELECT SUM(MA_RESER_TOTALPRICE)/1000 \
    FROM RESERVATION_MANAGER \
    WHERE SUBSTR(MA_RESER_DATE,1,8) = SUBSTR(SYSDATE,1,8) AND MA_RESER_CANCEL = 'N')SALE_D \
    ,(SELECT SUM(MA_RESER_TOTALPRICE)/1000 \
    FROM RESERVATION_MANAGER \
    WHERE SUBSTR(MA_RESER_DATE,1,5) = SUBSTR(SYSDATE,1,5) AND MA_RESER_CANCEL = 'N')SALE_M \
    ,(SELECT SUM(MA_RESER_TOTALPRICE)/1000 \
    FROM RESERVATION_MANAGER \
    WHERE SUBSTR(MA_RESER_DATE,1,2) = SUBSTR(SYSDATE,1,2) AND MA_RESER_CANCEL = 'N')SALE_Y \
    ,(SELECT COUNT(*) \
    FROM MEMBER \
    WHERE M_STATUS = 'Y')TOTAL_M \
    ,(SELECT COUNT(*) \
    FROM MEMBER \
    WHERE  SUBSTR(M_REGISTERDATE,1,5) = SUBSTR(SYSDATE,1,5) \
    AND M_STATUS = 'Y')MONTLY_M \
	FROM DUAL
	
dailyChart=SELECT SUM(MA_RESER_TOTALPRICE)/1000 \
			FROM RESERVATION_MANAGER \
			GROUP BY TO_CHAR(TO_DATE(MA_RESER_DATE), 'YYYY-MM-DD') \
			ORDER BY TO_CHAR(TO_DATE(MA_RESER_DATE), 'YYYY-MM-DD')DESC
			
montlyChart=SELECT SUM(MA_RESER_TOTALPRICE)/1000 \
			FROM RESERVATION_MANAGER \
			GROUP BY TO_CHAR(TO_DATE(MA_RESER_DATE), 'YYYY-MM') \
			ORDER BY TO_CHAR(TO_DATE(MA_RESER_DATE), 'YYYY-MM') DESC
			
clientList=SELECT M_NO \
                ,M_USERID \
                ,M.M_USERNAME \
                ,M.M_REGISTERDATE \
                ,M.M_STATUS \
                ,(R_COUNT-CANCELCNT)RESER_COUNT \
                ,TOTAL \
                ,ROUND(TOTAL/R_COUNT)AVG \
                ,R_COUNT_Y \
                ,CANCELCNT \
FROM MEMBER M \
LEFT JOIN (SELECT MA_RESER_GUESTID \
                            ,COUNT(MA_RESER_GUESTID)AS"R_COUNT" \
                            ,SUM(MA_RESER_TOTALPRICE)TOTAL \
            FROM RESERVATION_MANAGER \
            GROUP BY MA_RESER_GUESTID)  ON(M_USERID=MA_RESER_GUESTID) \
LEFT JOIN (SELECT COUNT(M_USERID)R_COUNT_Y,MM.M_USERID \
                    FROM RESERVATION_MANAGER MA \
                    JOIN MEMBER MM ON(MM.M_USERID = MA.MA_RESER_GUESTID) \
                    WHERE  TO_CHAR(TO_DATE(MA_RESER_DATE), 'YYYY')=TO_CHAR(TO_DATE(SYSDATE), 'YYYY') \
                    GROUP BY MM.M_USERID) USING( M_USERID) \
LEFT JOIN (SELECT COUNT(M_USERID)CANCELCNT,M_USERID \
                    FROM RESERVATION_MANAGER MA \
                    JOIN MEMBER M ON(M_USERID = MA_RESER_GUESTID) \
                    WHERE  MA_RESER_CANCEL='Y' \
                    GROUP BY M_USERID)USING(M_USERID)             	  
